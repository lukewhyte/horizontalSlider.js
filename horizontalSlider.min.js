!function(a){function e(b,c){this.$wrap=a(b),this.$slides=this.$wrap.children(),this.options=a.extend({},d,c),this.total=this.$slides.toArray().length,this.sWidth=this.$slides.width(),this.init()}var b="horizontalSlider",c='<div class="back" href="#"></div><div class="forward" href="#"></div>',d={rate:1e3,counter:1,buttons:a('<div class="slider-btns"></div>').append(c),btnsInside:!0};e.prototype={reset:function(){this.$slides.css("margin-left",0).not('[data-index="'+this.options.counter+'"]').hide()},move:function(b,c,d){var e=a('[data-index="'+b+'"]'),f=a('[data-index="'+this.options.counter+'"]'),g=this;this.options.buttons.unbind(),f.css({marginLeft:this.sWidth*d,display:"block"}),e.animate({marginLeft:this.sWidth*c},this.options.rate),f.animate({marginLeft:0},{duration:this.options.rate,complete:function(){g.reset(),g.options.buttons.click(function(a){g.click(a.target)})}})},click:function(b){var c=this.options.counter,d=1,e=-1;if(a(b).is(".back"))this.options.counter=1===c?this.total:c-1,this.move(c,d,e);else{if(!a(b).is(".forward"))return!1;this.options.counter=c===this.total?1:c+1,this.move(c,e,d)}},setUpCss:function(){this.$wrap.css({position:"relative",left:0,overflow:"hidden",width:this.sWidth,height:this.$slides.height()}),this.$slides.each(function(b,c){a(c).attr("data-index",b+1).css({position:"absolute",left:0})}),this.$slides.not('[data-index="'+this.options.counter+'"]').hide(),this.options.btnsInside?a(this.options.buttons).appendTo(this.$wrap):a(this.options.buttons).insertAfter(this.$wrap),this.$wrap.show()},init:function(){var a=this;this.setUpCss(),this.options.buttons.click(function(b){a.click(b.target)})}},a.fn[b]=function(c){return this.each(function(){a.data(this,b)||a.data(this,b,new e(this,c))})}}(jQuery);