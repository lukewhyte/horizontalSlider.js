(function(c){var b="horizontalSlider",d={rate:1000,counter:1,buttons:'<div class="back" href="#"></div><div class="forward" href="#"></div>',btnWrap:"slider-btns",btnsInside:true};function a(f,e){this.$wrap=c(f);this.$slides=this.$wrap.children();this.options=c.extend({},d,e);this.options.buttons=c('<div class="'+this.options.btnWrap+'"></div>').append(this.options.buttons);this.total=this.$slides.toArray().length;this.sWidth=this.$slides.width();this.init()}a.prototype={reset:function(){this.$slides.css("margin-left",0).not('[data-index="'+this.options.counter+'"]').hide()},move:function(h,j,i){var f=this.$wrap.find('[data-index="'+h+'"]'),e=this.$wrap.find('[data-index="'+this.options.counter+'"]'),g=this;this.options.buttons.unbind();e.css({marginLeft:this.sWidth*i,display:"block"});f.animate({marginLeft:this.sWidth*j},this.options.rate);e.animate({marginLeft:0},{duration:this.options.rate,complete:function(){g.reset();g.options.buttons.click(function(k){g.click(k.target)})}})},click:function(f){var e=this.options.counter,h=1,g=-1;if(c(f).is(".back")){this.options.counter=(e===1)?this.total:e-1;this.move(e,h,g)}else{if(c(f).is(".forward")){this.options.counter=(e===this.total)?1:e+1;this.move(e,g,h)}else{return(false)}}},setUpCss:function(){this.$wrap.css({position:"relative",left:0,overflow:"hidden",width:this.sWidth,height:this.$slides.height()});this.$slides.each(function(f,g){c(g).attr("data-index",f+1).css({position:"absolute",left:0})});this.$slides.not('[data-index="'+this.options.counter+'"]').hide();if(this.options.btnsInside){c(this.options.buttons).appendTo(this.$wrap)}else{c(this.options.buttons).insertAfter(this.$wrap)}this.$wrap.css({display:"block",visibility:"visible"})},init:function(){var e=this;this.setUpCss();this.options.buttons.click(function(f){e.click(f.target)})}};c.fn[b]=function(e){return this.each(function(){if(!c.data(this,b)){c.data(this,b,new a(this,e))}})}}(jQuery));