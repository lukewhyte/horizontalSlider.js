!function(a){function d(b,d){this.$wrap=a(b),this.$slides=this.$wrap.children(),this.options=a.extend({},c,d),this.buttons=a('<div class="'+this.options.btnWrap+'"></div>').append(this.buttons),this.total=this.$slides.toArray().length,this.sWidth=this.$slides.width(),this.init()}var b="horizontalSlider",c={rate:1e3,counter:1,buttons:'<div class="back" href="#"></div><div class="forward" href="#"></div>',btnWrap:"slider-btns",btnsInside:!0};d.prototype={reset:function(){this.$slides.css("margin-left",0).not('[data-index="'+this.options.counter+'"]').hide()},move:function(a,b,c){var d=this.$wrap.find('[data-index="'+a+'"]'),e=this.$wrap.find('[data-index="'+this.options.counter+'"]'),f=this;this.buttons.unbind(),e.css({marginLeft:this.sWidth*c,display:"block"}),d.animate({marginLeft:this.sWidth*b},this.options.rate),e.animate({marginLeft:0},{duration:this.options.rate,complete:function(){f.reset(),f.options.buttons.click(function(a){f.click(a.target)})}})},click:function(b){var c=this.options.counter,d=1,e=-1;if(a(b).is(".back"))this.options.counter=1===c?this.total:c-1,this.move(c,d,e);else{if(!a(b).is(".forward"))return!1;this.options.counter=c===this.total?1:c+1,this.move(c,e,d)}},setUpCss:function(){this.$wrap.css({position:"relative",left:0,overflow:"hidden",width:this.sWidth,height:this.$slides.height()}),this.$slides.each(function(b,c){a(c).attr("data-index",b+1).css({position:"absolute",left:0})}),this.$slides.not('[data-index="'+this.options.counter+'"]').hide(),this.options.btnsInside?a(this.buttons).appendTo(this.$wrap):a(this.buttons).insertAfter(this.$wrap),this.$wrap.css({display:"block",visibility:"visible"})},init:function(){var a=this;this.setUpCss(),this.buttons.click(function(b){a.click(b.target)})}},a.fn[b]=function(c){return this.each(function(){a.data(this,b)||a.data(this,b,new d(this,c))})}}(jQuery);