!function(a){function e(b,c){this.$wrap=a(b),this.$slides=this.$wrap.children(),this.options=a.extend({},d,c),this.total=this.$slides.toArray().length,this.sWidth=this.$slides.width(),this.init()}var b="horizontalSlider",c='<div class="back" href="#"></div><div class="forward" href="#"></div>',d={rate:1e3,counter:1,buttons:a('<div class="slider-btns"></div>').append(c)};e.prototype={actions:{nextLeft:0,nextCurrent:0},reset:function(){this.$slides.css("margin-left",0),a("div.slide").not('[data-index="'+this.options.counter+'"]').hide()},move:function(b){var c=a('div.slide[data-index="'+b+'"]'),d=a('div.slide[data-index="'+this.options.counter+'"]'),e=this;this.$wrap.unbind(),d.css({marginLeft:this.actions.nextLeft,display:"block"}),c.animate({marginLeft:this.actions.nextCurrent},{duration:this.options.rate,queue:!1}),d.animate({marginLeft:0},{duration:this.options.rate,queue:!1,complete:function(){e.reset(),e.$wrap.click(function(a){e.click(a.target)})}})},click:function(b){var c=this.options.counter;if(a(b).is(".back"))this.actions.nextLeft=-1*this.sWidth,this.actions.nextCurrent=this.sWidth,this.options.counter=1===c?this.total:c-1,this.move(c);else{if(!a(b).is(".forward"))return!1;this.actions.nextLeft=this.sWidth,this.actions.nextCurrent=-1*this.sWidth,this.options.counter=c===this.total?1:c+1,this.move(c)}},setUpCss:function(){this.$wrap.css({position:"relative",left:0,overflow:"hidden",width:this.sWidth,height:this.$slides.height()}),this.$slides.each(function(b,c){a(c).attr("data-index",b+1).css({position:"absolute",left:0})}),a("div.slide").not('[data-index="'+this.options.counter+'"]').hide(),a(this.options.buttons).appendTo(this.$wrap)},init:function(){var a=this;this.setUpCss(),this.$wrap.click(function(b){a.click(b.target)})}},a.fn[b]=function(c){return this.each(function(){a.data(this,b)||a.data(this,b,new e(this,c))})}}(jQuery);